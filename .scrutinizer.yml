checks:
  go: true
build:
  nodes:
    analysis:
      project_setup:
        override:
          - 'true'
      environment:
        go:
          version: go1.13.5
        variables:
          GO_ENV: scrutinizer
          EMAIL_SERVICE: dummy
          AWS_S3_ENDPOINT: http://localhost:9000
          AWS_S3_ACCESS_KEY_ID: abc123
          AWS_S3_SECRET_ACCESS_KEY: abcd1234
          AWS_S3_DISABLE_SSL: true
          AWS_S3_BUCKET: wca-test-bucket
        docker: true
      tests:
        override:
          - go-scrutinizer-run
          - govet-run
          - golint-run
          -
            command: cd ..
          -
            command: touch .env
          -
            command: docker-compose run test
  root_path: './application'
filter:
  excluded_paths:
    - "*_test.go"
    - "*_fixtures_test.go"
    - "gqlgen/generated.go"
    - "gqlgen/models_gen.go"
